<!DOCTYPE html>
<html>

<head>
     <meta charset="utf-8" />

     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
          crossorigin="anonymous"></script>

     <!-- Required for IE11 -->
     <script src="https://cdn.jsdelivr.net/npm/babel-polyfill/dist/polyfill.min.js"></script>
     <!-- Web component polyfill (only loads what it needs) -->
     <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/webcomponents-lite.js"
          charset="utf-8"></script>
     <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
     <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"
          charset="utf-8"></script>
     <link rel="stylesheet" type="text/css"
          href="https://www.ebi.ac.uk/pdbe/pdb-component-library/css/pdbe-molstar-light-3.1.0.css">
     <script type="text/javascript"
          src="https://www.ebi.ac.uk/pdbe/pdb-component-library/js/pdbe-molstar-component-3.1.0.js"></script>

     <link rel="stylesheet" href="../gene_summary.css">
     <title>{gene_name} isoforms summary</title>
</head>

<body>

     <!-- 
        TODO:
            - make table of tf genes with info

            - add the uniprot summary and full gene name?
            - make frameshifts colored better
            - improve the subtle splice display

    -->
     <a href="../index.html">Home</a>
     <p></p>
     <h1>{gene_name}</h1>
     <p>TF family: {tf_family}</p>
     <details>
          <summary>Links</summary>
          <div style="text-align:center">
               <a href="https://useast.ensembl.org/Homo_sapiens/Gene/Summary?db=core;g={ensembl_gene_id};"
                    target="_blank" rel="noopener noreferrer">Ensembl: {ensembl_gene_id}</a>
               <a href="https://www.uniprot.org/uniprot/{uniprot_ac}" target="_blank" rel="noopener noreferrer">UniProt:
                    {uniprot_ac}</a>
               <a href="http://humantfs.ccbr.utoronto.ca/myTFPageUniversal.php?user=&eID={ensembl_gene_id}&dbd=&submit_param=submit_value"
                    target="_blank" rel="noopener noreferrer">Human TF DB (motifs)</a>
               <a href="https://www.huber.embl.de/pub/DEUprimates/allPages/{ensembl_gene_id}.html" target="_blank"
                    rel="noopener noreferrer">Expression across primates and tissues (Reyes et al. PNAS 2013)</a>
               <a href="https://vastdb.crg.eu/gene/{ensembl_gene_id}@hg38" target="_blank"
                    rel="noopener noreferrer">VastDB</a>
               <a href="https://apps.kaessmannlab.org/alternative-splicing/" target="_blank"
                    rel="noopener noreferrer">Expression across species and tissues (Mazin et al Nature Genetics
                    2021)</a>
          </div>
     </details>
     <details open>
          <summary>Exon diagram</summary>
          <img src='../media/{gene_name}_cloned-plus-ensembl-isoforms_exon-diagram.svg' alt='exon digram missing'>
     </details>
     <details open>
          <summary>Protein diagram</summary>
          <!--Using object for this SVG since it has a link in it, which does not work with img-->
          <object type='image/svg+xml' data='../media/{gene_name}_cloned-isoforms_protein-diagram.svg'
               alt='protein digram file missing'>
          </object>
     </details>



     <details open>
          <summary>Predicted structures - side-by-side video</summary>
          <video controls width=1080px loop autoplay muted>
               <source src='../media/{gene_name}_alphafold2_cloned-isoforms.mp4' type='video/mp4'>
               Video of predicted structures is missing
          </video>
     </details>

     <details open>
          <summary>Predicted structures - interactive</summary>
          <div id="structureButtons">
               <!-- filled by js -->
          </div>
          <div id="myViewer">
               <script type="text/javascript" src="{gene_name}-molstar.js"></script>
          </div>
     </details>

     <details open>
          <summary>Activation profile (M1H)</summary>
          <img src='../media/{gene_name}_m1h-profile.svg' alt='M1H figure file missing'>
     </details>
     <details open>
          <summary>PPI profile (Y2H)</summary>
          <img src='../media/{gene_name}_y2h-profile.svg' alt='Y2H figure file missing'>
     </details>
     <details open>
          <summary>PDI profile (Y1H)</summary>
          <img src='../media/{gene_name}_y1h-profile.svg' alt='Y1H figure file missing'>
     </details>
     <details>
          <summary>Pathogenic mutations</summary>
          <!--Using object for this SVG since it has a link in it, which does not work with img-->
          <object type='image/svg+xml' data='../media/{gene_name}_clinvar-pathogenic-SNPs_exon-diagram.svg'
               alt='mutations diagram missing'>
          </object>

     </details>
     <details open>
          <summary>Tissue expression profile</summary>
          <img src='../media/{gene_name}_tissue-expression.svg' alt='GTEx figure file missing'>
     </details>
     <details open>
          <summary>Developmental tissue expression profile</summary>
          <img src='../media/{gene_name}_developmental-tissue-expression.svg' alt='GTEx figure file missing'>
     </details>
     <details open>
          <summary>Developmental tissue expression profile (interactive)</summary>
          <embed type='text/html' src='../media/{gene_name}_developmental-tissue-expression_interactive.html'
               width='3000' height='500' alt='GTEx figure file missing'>
     </details>

</body>

</html>